---
layout: default
title: 用Construt2制作HTML5小游戏
---

# 制作HTML5小游戏
## 简介
本次制作的是一个很多地方不完善的射击类小游戏，体验到了做一个游戏的不容易

通过鼠标控制发射子弹的途径，键盘控制我的角色的移动方向，还有计分板跟着人物运动的一个“劣质”佛系小游戏。
## 操作步骤
### 1、新建一个Project
这一步我必须介绍一哈这个Construt2，他现在已经出现了各种小游戏的模板了
![谢谢志强](images\博客截图1.png)
这些名为Template的似乎是小游戏的模板，这我就不深究了，点开然后‘Run layout’就可以凭自己的感觉操作一波了，挺多游戏都是值得一玩的！

作为一个初学者，我有一股傲气，傲然点开最上面的那个空白文件，自己开始搞一波这个游戏！


![11](images\博客截图1.png)

### 2、设置背景
步骤：
#### 前戏
(i)在右上方的Layers上新建一个层作为背景层
![](\images\博客截图2.png)

(ii)双击舞台，弹出一个窗口，在‘General’里面找一个‘Tiled Blackground’的项目
![](\images\博客截图3.png)这时回到舞台，鼠标变成十字，点击一哈舞台之后，弹出一个界面让我们作图，我们点击上方的‘Load..’然后打开自己百度或者画出来的背景素材
![](\images\博客图片.png)
接着把这个窗口叉掉就可以了！

PS：打开blackground后我们会发现这个图小的可怜，这时我们点击一哈画布(就是空白的地方)看着右边有个‘layout size'的参数，这个就是我们舞台画布的大小

再点一下我们的图片,左边同样出现一个参数表，我们把‘size’调成我们画布的大小，就是全覆盖了！

接下来就是锁定背景层，在层的前面有个小锁头，点一下就可以了！（这样可以防止后面的操作中，我们的背景飞来飞去.）



(iii)接下来，设置你的这个小游戏可以由键盘、鼠标来操控，具体方法就是双击画布，然后在‘Input’里找‘Mouse’和‘Keyboard’，这样操作之后并无什么反应，但是再次双击画布就会发现Keyboard或是Mouse已经不再原来的地方了
![](\images\QQ图片20180929210957.png)

#### 高潮
(i)创造你的player！enemy!of course bullet！
双击画布创建一个Sprite作为<怪兽>，再创建一个Sprite作为<玩家>，
再创建一个作为<子弹>！(添加之后如果移动不了 可以解锁层)，我们只要把player放在你想出生的点就OKK了，然后再复制多几只怪物作为它的初始数量。
![](\images\博客用图.png)

(ii)上面解释道物体放在哪里其实不重要，接下来我们就要给各个Object添加一些Behavior!右键Objects然后选择Behaviors，点击添加，如下：

))子弹：添加Bullet行为后，它的运动就会呈直线状后面我们再添加事件它都会笔直地飞出了！

))玩家：![](\images\玩家行为.png)

这里我添加的两个行为分别是，“可八方向控制”、“不会撞出界外”。

))怪物：怪物我只加了sine动作（正弦运动）和Bullet动作，目前看来只有Bullet起效了，怪物可以窜来窜去了！

(iii)接下来就是设置事件"event"了：

首先我先明确这个游戏的机制、人物的准星向着鼠标的位置，键盘控制人物的行径，怪物随机刷新。

做好这些，开始设置事件

## 1、

事件：>System>Every tick>>

动作：>player>'Set angle toward'

![](\images\玩家事件1.png)

输入图中的X=‘Mouse.X’

          Y=‘Mouse.Y’

这就意味着你玩家的angle是时刻跟着你鼠标的坐标而定的！


## 2、
事件：>System>On start of layout>>

动作：>Monster>'Set angle to'
![](\images\刷怪事件1.png)

这个random的意思就是让怪物可以智能一丢丢，不是直着一个方向飞！

## 3、
自动刷怪（几秒刷一次自己定）

事件：>System>Every * seconds>>

动作：>System>Creat object>Monster>

![](images\刷怪事件2.png)

注意这个random后面的数字是他出现的坐标的范围，就是上面提到的画布大小那个。

## 4、
子弹发射与怪物消灭

事件:>>子弹>Compare speed>小于等于1

动作：>player>Spawn 子弹>layer 1

就是说子弹在人物出发射出，速度小于等于1码每秒.
------------------------------

事件:>>子弹>>On collision with 怪物

动作：(1)  >>怪物>Destroy
   
      (2)  >>子弹>Destroy

这里就是子弹碰到怪物的时候，怪物和子弹都消失了！我们还可以添加爆炸特效，同样用creat就能解决，这里不详细说明！

## 5、
鼠标点击发射子弹

事件：>>Mouse>On Left button Clicked

动作：>>player>spawn 子弹 on layer 1

这里就是按左键的时候子弹从角色处射出oh yeah~

## 6、（附）
最后我为游戏添加了一些色彩：

### 1、WSDA控制玩家
主要步骤不解释，如图的每个‘我的角色’的动作，即可。

![](images\方向盘控制.png)

### 2、分数面板
我做的分数面板比较粗糙，他会跟着人物移动，具体操作：

1>>在画布上双击创建一个Text.

2>>回到事件窗口，右键空白处![](images\分数变量.png)

3>>创建了一个变量![](images\变量.png)

4>>添加事件![](images\怪物加分事件.png)

5>>因为不知道如何把分数板固定在最上层，我就设置了一个分数版跟着人物移动的事件，虽然粗糙，但是比较实在！
具体就如上图'WSAD移动角色'后面的Text的事件。



![](images\视频秀.gif)

这个游戏虽然劣质，但是实现了鼠标键盘同时操控，怪物无止尽刷新、计分等基本行为。这次做游戏的体验，让我真切地感受到那些流传在互联网中的网络游戏，即便有些玩起来体验感有点差，但是它背后也是藏着很大的一个工程啊，还是要珍惜每一个游戏和它的制作,不随意评价一个游戏的品质，才是一个game player应该有的品质啊哈哈哈哈哈。